<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
</head>
<body>
    <h1>chek school</h1>
    <h3 id="mylist"></h3>
</body>
</html>
<script>
        function scrapeTextContent(url, func){
            var realIndex = "all";
            var tagName = "body";
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    func(this.responseText);
                }else{}
            };
            xhttp.open("GET", "lib_php/scrapeElementsByTag.php?tagPass=" + url + " " + tagName + " " + realIndex, true);
            xhttp.send();
        }


        var baseurl = "https://publish.gepro-osi.nl/roosters/rooster.php?";
        var url;
        var schoolcode = "";
        var schoolid;
        for(schoolid = 0;schoolid < 5; schoolid++){
            var schoolcode = "school=" + schoolid;
            var url = baseurl + schoolcode;
            console.log(url);
            //console.log(schoolid);
            scrapeTextContent(url, function(response){
                    console.log(url);
                    console.log(schoolid);
                    console.log(response);
            });
            console.log(url);
            console.log(schoolid);
            demo();
        };

        function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function demo() {
            console.log('Taking a break...');
            await sleep(1000);
            console.log('one seconds later');
        }
        /*
        var list = document.getElementById('myList');
        for (i = 0; i < valueNew.length; i++) {
            var entry = document.createElement('option');
            entry.appendChild(document.createTextNode(valueNew[i]));
            list.appendChild(entry);
        }
        */


</script>
